# fix-ingress.yaml íŒŒì¼ ë‚´ìš© (Webhook ìš°íšŒë¥¼ ìœ„í•œ v1beta1 ë²„ì „)

apiVersion: extensions/v1beta1 # ğŸ‘ˆ ì£¼ëª©! API ë²„ì „ì„ ë³€ê²½í•©ë‹ˆë‹¤.
kind: Ingress
metadata:
  name: cgv-ingress
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'
    
    # ğŸš¨ Time-out ì„¤ì •ì„ 5ë¶„(300ì´ˆ)ìœ¼ë¡œ í™•ì¥
    alb.ingress.kubernetes.io/load-balancer-attributes: idle_timeout.timeout_seconds=300
    alb.ingress.kubernetes.io/backend-protocol: HTTP
    kubernetes.io/ingress.class: alb # ğŸ‘ˆ v1beta1ì—ì„œëŠ” ì´ ì£¼ì„ì„ ë‹¤ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.
spec:
  rules:
  - http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          serviceName: gateway-api-svc # ğŸ‘ˆ v1beta1ì—ì„œëŠ” serviceName í•„ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
          servicePort: 80 # ğŸ‘ˆ v1beta1ì—ì„œëŠ” servicePort í•„ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.